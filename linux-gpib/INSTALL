
Installing Linux-GPIB
--------------------------------------------------------------------

Supported Hardware:
---------------------------------------------------------------------

See the file named drivers.txt

------------------------------------------------------------------------

Important Note:

You'll need the 'dialog' package installed on your system to run the
installation scripts correctly.

-------------------------------------------------------------------------


A) First steps:
---------------

o) Installing your Hardware:
	Your GPIB Boards has to be configured by setting the desired board jumpers
	for its base-address interrupt-level (IRQ) and dma-request channel (DMA)
	Please choose a free base-address, irq and dma for your system
	(refer to your
	hardware documentation for this). Take a look to /proc/interrupts
	or /proc/dma
	for already used interrupt and dma lines. Now shut down your system and
	install the board in your computer.

o) Unpacking the Software:
	Choose a directory on your system where linux-gpib should reside,
	cd to this directory and unpack the archives with the 'tar' program.

	You will also need the linux kernel source code, which the linux-gpib
	package reads for header files and compilation variables when compiling
	the gpib kernel module.  Ideally, you have the linux source your
	current kernel was compiled from, or are willing to compile
	a fresh kernel.  Otherwise, you can prepare a kernel source tree that matches
	the kernel you are currently running if you have its config file (in
	the Debian distibution the config files for the kernel-image packages
	are in the /boot directory).  Perform the following steps:
	1) Get a copy of the kernel source that matches the kernel you are
		running.  Unpack it and copy your kernel config file to '.config'
		in the top directory of your kernel source.
	2) run 'make oldconfig' in your kernel source directory.
	3) You might need to edit the file 'Makefile' in the kernel source.
		At the top of the Makefile, the variable EXTRAVERSION is defined.
		If necessary, change it to match your kernel (for example, if the command
		'uname -r' produces "2.4.16-386" then your EXTRAVERSION should be
		set as 'EXTRAVERSION=-386'.
	4) run 'make dep' in the kernel source directory and you are done.

o) Installing additional Software:
	If you want to use TCL language support for the GPIB system
	you have to get the newest TCL/Tk version and install it on your system.
	The GPIB module can be loaded with the dynamic link facility
	using

	load <path>/libgpib.so


B) Installing Linux-GPIB
-------------------------

o) cd to your linux-gpib directory and type 'make config'.  If you
	have old files you want to clean up, do a 'make clean' first.
	You will be prompted for the path to your linux kernel source,
	and which gpib drivers you wish to compile.

	Type 'make'.  Now the Package will be compiled.

	Type 'make install' (as root).  This will copy the kernel driver to
	/lib/modules/<kernel version>/misc as well as install the library
	and headers files into /usr/local.  Lastly the configuration utility looks
	for linux-gpib related files on your system and asks if you wish to create
	them if there aren't any.

	To give a user access to the computer's gpib board you will have to add
	them to the group 'gpib' (you can use the 'usermod' tool to change the
	groups a user belongs to).  Or, you could use 'chmod' to change the
	permissions on the device files /dev/gpib[0-15] to something you like
	better.

C) Loading the driver module
-----------------------------

	You can load the driver module by typing

		modprobe <driver name>

	See the file 'drivers.txt' to see which driver your board is supported
	by.


D) Configuring the GPIB-Library
---------------------------

	If you have Tcl/Tk installed on your system you can use the Linux-GPIB
	Configuration and test utility 'ibconf' to edit your configuration file.

	If hou haven't Tcl/Tk you have to edit /etc/gpib.conf by hand
	to reflect your bus layout.

E) Checking your software configuration:
-----------------------------------------

	linux-gpib comes with a utility called ibchk (linux-gpib/util/ibchk) that
	performs some simple tests on your installation. The error-messages
	generated by this program should be helpful finding any problems during
	the installation.







